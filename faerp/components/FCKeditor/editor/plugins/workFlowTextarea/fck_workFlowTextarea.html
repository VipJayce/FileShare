<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" >
<html>
	<head>
		<title>Work Flow Textarea Properties</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="Expires" CONTENT="0">
		<meta http-equiv="Cache-Control" CONTENT="no-cache">
		<meta http-equiv="Pragma" CONTENT="no-cache">
		<script type="text/javascript">

var oEditor = window.parent.InnerDialogLoaded() ;
var FCKLang = oEditor.FCKLang ;
var FCKWorkFlowTextarea = oEditor.FCKWorkFlowTextarea ;

window.onload = function ()
{
	// First of all, translate the dialog box texts
	oEditor.FCKLanguageManager.TranslatePage( document ) ;
	
	LoadSelected() ;
	
	// Show the "Ok" button.
	window.parent.SetOkButton( true ) ;	
}

var eSelected = oEditor.FCKSelection.GetSelectedElement() ;

function LoadSelected()
{
	if ( !eSelected )
		return ;

	if ( eSelected.tagName == 'SPAN' && eSelected._texdesc ) {
		document.getElementById('txtDesc').value = eSelected._texdesc ;
		document.getElementById('txtName').value = eSelected._id ;
		document.getElementById('txtCols').value = eSelected._cols ;
		document.getElementById('txtRows').value = eSelected._rows ;
	}
	else {
		eSelected == null ;
	}
}

function Ok()
{
	var sDesc = document.getElementById('txtDesc').value ;
	var sId   = document.getElementById('txtName').value ;
	var sCols = document.getElementById('txtCols').value ;
	var sRows = document.getElementById('txtRows').value ;

	if ( sId.length == 0 ) {
		alert( FCKLang.WorkFlowTextareaErrNoName ) ;
		return false ;
	}

	if ( isNotNumber(sCols) ) {
		alert( FCKLang.WorkFlowTexColsErrNoNumber ) ;
		return false ;
	}

	if ( isNotNumber(sRows) ) {
		alert( FCKLang.WorkFlowTexRowsErrNoNumber ) ;
		return false ;
	}

	FCKWorkFlowTextarea.Add( sDesc, sId, sCols, sRows ) ;
	return true ;
}

function isNotNumber(param) {
	var reg = /^[0-9]*$/;

	if ( !reg.test(param) ) {
		return true ;
	} else {
		return false;
	}
}

		</script>
	</head>
	<body style="OVERFLOW: hidden" scroll="no">
		<table height="100%" width="100%">
			<tr>
				<td align="center">
					<table border="0" cellpadding="0" cellspacing="0" width="80%">
						<tr>
							<td colSpan="">
								<span fckLang="DlgWorkFlowTextareaDesc">Desc</span>&nbsp;&nbsp;
								<input type="text" id="txtDesc">
							</td>
						</tr>
						<tr>
							<td colspan="2">
								&nbsp;&nbsp;
							</td>
						</tr>
						<tr>
							<td colSpan="">
								<span fckLang="DlgWorkFlowTextareaName">Name</span>&nbsp;&nbsp;
								<input type="text" id="txtName" style="ime-mode:disabled">
							</td>
						</tr>
						<tr>
							<td colspan="2">
								&nbsp;&nbsp;
							</td>
						</tr>
						<tr>
							<td>
								<span fckLang="DlgWorkFlowTextareaCols">Cols</span>&nbsp;&nbsp;
								<input type="text" id="txtCols"><span fckLang="DlgWorkFlowTextareaColsNum">ColsNum</span>
							</td>
						</tr>
						<tr>
							<td colspan="2">
								&nbsp;&nbsp;
							</td>
						</tr>
						<tr>
							<td>
								<span fckLang="DlgWorkFlowTextareaRows">Rows</span>&nbsp;&nbsp;
								<input type="text" id="txtRows"><span fckLang="DlgWorkFlowTextareaRowsNum">RowsNum</span>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</table>
	</body>
</html>